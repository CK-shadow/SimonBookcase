---
title: 多线程
date: 2021-11-08 21:01:53
tags:
---





## 进程与线程

### 进程

#### 进程的概念



进程就是正在运行的程序,它会占用对应的内存区域，由CPU进行执行与计算



------

#### 进程的特点



* 独立性

  进程是系统中独立存在的实体，它可以拥有自己独立的资源，每个进程都拥有自己私有的地址空间，在没有经过进程本身允许的情况下，一个用户进程不可以直接访问其他进程的地址空间

* 动态性

  进程与程序的区别在于，程序只是一个静态的指令集合，而进程是一个正在系统中活动的指令集合，程序加入了时间的概念以后，称为进程，具有自己的生命周期和各种不同的状态，这些概念都是程序所不具备的

* 并发性

  多个进程可以在单个处理器CPU上并发执行，多个进程之间不会互相影响



------

### 线程

#### 线程的概念



线程是操作系统OS能够进行运算调度的最小单位,它被包含在进程之中,是进程中的实际运作单位
 一个进程可以开启多个线程，其中有一个主线程来调用本进程中的其他线程
 我们看到的进程的切换，切换的也是不同进程的主线程
 多线程可以让同一个进程同时并发处理多个任务，相当于扩展了进程的功能



------

#### 进程与线程的关系



一个操作系统中可以有多个进程，一个进程中可以包含一个线程（单线程程序），也可以包含多个线程（多线程程序）

![进程与线程的关系](https://img-blog.csdnimg.cn/20210317231249749.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg4NDIzNA==,size_16,color_FFFFFF,t_70)



每个线程在共享同一个进程中的内存的同时,又有自己独立的内存空间.
 所以想使用线程技术,得先有进程,进程的创建是OS操作系统来创建的,一般都是C或者C++完成



![进程与线程的关系](https://img-blog.csdnimg.cn/20210317231707165.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg4NDIzNA==,size_16,color_FFFFFF,t_70)



### 多线程的特性

#### 随机性



我们宏观上觉得多个进程是同时运行的,但实际的微观层面上，一个CPU【单核】只能执行一个进程中的一个线程。
那为什么看起来像是多个进程同时执行呢？
是因为CPU以纳秒级别甚至是更快的速度高效切换着，超过了人的反应速度，这使得各个进程从看起来是同时进行的,也就是说,宏观层面上,所有的进程看似并行【同时运行】,但是微观层面上是串行的【同一时刻,一个CPU只能处理一件事】

![线程切换](https://img-blog.csdnimg.cn/20210317231806318.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg4NDIzNA==,size_16,color_FFFFFF,t_70)



**串行与并行**

串行是指同一时刻一个CPU只能处理一件事，类似于单车道
并行是指同一时刻多个CPU可以处理多件事，类似于多车道

![在这里插入图片描述](https://img-blog.csdnimg.cn/f7228c53c50b46d0ae132bc30cadad7c.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA56iL5bqP5aqbIOazoeazoQ==,size_20,color_FFFFFF,t_70,g_se,x_16)

![在这里插入图片描述](https://img-blog.csdnimg.cn/0c08ef4ce38c4fbdb79f7c35918a8fbf.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA56iL5bqP5aqbIOazoeazoQ==,size_19,color_FFFFFF,t_70,g_se,x_16)

